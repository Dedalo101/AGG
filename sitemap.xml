<?xml version="1.0" encoding="UTF-8"?>
<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">
  <url>
    <loc>https://agg.homes/</loc>
    <lastmod>2025-10-17</lastmod>
    <changefreq>weekly</changefreq>
    <priority>1.0</priority>
  </url>
bash -lc "set -euo pipefail
# update sitemap.xml (replace lastmod/changefreq if file exists; create if missing)
if [ -f /workspaces/AGG/sitemap.xml ]; then
  sed -E -e 's!<lastmod>[^<]*</lastmod>!<lastmod>2025-10-17</lastmod>!' \
         -e 's!<changefreq>[^<]*</changefreq>!<changefreq>weekly</changefreq>!' /workspaces/AGG/sitemap.xml > /tmp/sitemap.xml && mv /tmp/sitemap.xml /workspaces/AGG/sitemap.xml
else
  cat > /workspaces/AGG/sitemap.xml <<'XML'
<?xml version=\"1.0\" encoding=\"UTF-8\"?>
<urlset xmlns=\"http://www.sitemaps.org/schemas/sitemap/0.9\">
  <url>
    <loc>https://agg.homes/</loc>
    <lastmod>2025-10-17</lastmod>
    <changefreq>weekly</changefreq>
    <priority>1.0</priority>
  </url>
</urlset>
XML
fi

# ensure robots.txt contains the sitemap entry
if ! grep -q '^Sitemap: https://agg.homes/sitemap.xml$'  2>/dev/null; then
  cat >  <<'ROBOTS'
User-agent: *
Disallow:

Sitemap: https://agg.homes/sitemap.xml
ROBOTS
fi

# commit changes locally
cd /workspaces/AGG
git init >/dev/null 2>&1 || true
git add   >/dev/null 2>&1 || true
git commit -m 'Update sitemap lastmod/changefreq and ensure  sitemap' >/dev/null 2>&1 || true

# verify public accessibility (may fail if agg.homes not hosted)
echo '--- HTTP headers for https://agg.homes/sitemap.xml ---'
curl -I -L --max-time 10 https://agg.homes/sitemap.xml || echo 'sitemap not reachable (DNS/hosting may not be configured)'

# open in host browser if $BROWSER is set
if [ -n \"${BROWSER-}\" ]; then
  \"$BROWSER\" https://agg.homes/sitemap.xml || true
fi
"