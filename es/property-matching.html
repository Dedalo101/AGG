<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Emparejamiento Personalizado de Propiedades - Encuentra tu hogar perfecto con nuestras recomendaciones de propiedades con IA basadas en tu presupuesto y preferencias.">
    <meta name="keywords" content="emparejamiento de propiedades, bienes raíces, recomendaciones personalizadas, Idealista, Fotocasa, búsqueda de propiedades">
    <title>Emparejamiento Personalizado de Propiedades | AGG Homes</title>
    
    <!-- Consistent with site styling -->
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: Arial, sans-serif; background-color: #f4f4f9; color: #333; }
        .container { max-width: 1200px; margin: 0 auto; padding: 0 20px; }
        
        :root {
            --primary: #003d82;
            --accent: #1e7e34;
            --text-light: #ffffff;
            --text-dark: #1a1a1a;
            --border-color: #e1e5e9;
            --shadow: 0 4px 20px rgba(0, 61, 130, 0.1);
        }
        
        /* Language Switcher */
        .lang-switcher {
            position: fixed;
            top: 15px;
            right: 15px;
            z-index: 9999;
            background-color: var(--accent);
            padding: 8px 12px;
            border-radius: 6px;
            box-shadow: 0 2px 6px rgba(0,0,0,0.2);
        }
        
        .lang-switcher a {
            color: white;
            text-decoration: none;
            margin: 0 6px;
            font-size: 12px;
            font-weight: bold;
            transition: opacity 0.3s;
        }
        
        .lang-switcher a:hover { opacity: 0.7; }
        
        /* Header */
        .header {
            background: linear-gradient(135deg, var(--primary) 0%, #004494 100%);
            color: var(--text-light);
            padding: 60px 20px 40px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg width="60" height="60" viewBox="0 0 60 60" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><g fill="%23ffffff" fill-opacity="0.05"><circle cx="30" cy="30" r="4"/></g></svg>');
            pointer-events: none;
        }
        
        .header-content {
            position: relative;
            z-index: 2;
        }
        
        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            font-weight: 700;
        }
        
        .header p {
            font-size: 1.2rem;
            max-width: 600px;
            margin: 0 auto 2rem;
            opacity: 0.9;
        }
        
        .back-btn {
            position: absolute;
            top: 20px;
            left: 20px;
            background: rgba(255, 255, 255, 0.2);
            color: white;
            text-decoration: none;
            padding: 10px 20px;
            border-radius: 25px;
            font-size: 14px;
            transition: all 0.3s;
            z-index: 3;
        }
        
        .back-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateX(-3px);
        }
        
        /* Filter Section */
        .filter-section {
            background: white;
            padding: 40px 20px;
            box-shadow: var(--shadow);
            margin: -20px 20px 40px;
            border-radius: 15px;
            position: relative;
            z-index: 10;
        }
        
        .filter-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 25px;
            margin-top: 30px;
        }
        
        .filter-group {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            border: 2px solid transparent;
            transition: all 0.3s;
        }
        
        .filter-group:hover {
            border-color: var(--primary);
            transform: translateY(-2px);
        }
        
        .filter-group label {
            display: block;
            font-weight: bold;
            color: var(--primary);
            margin-bottom: 10px;
            font-size: 1.1rem;
        }
        
        .filter-group select,
        .filter-group input {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.3s;
        }
        
        .filter-group select:focus,
        .filter-group input:focus {
            outline: none;
            border-color: var(--primary);
        }
        
        .search-btn {
            background: linear-gradient(135deg, var(--primary) 0%, #004494 100%);
            color: white;
            padding: 15px 40px;
            border: none;
            border-radius: 25px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 20px;
            display: block;
            margin-left: auto;
            margin-right: auto;
        }
        
        .search-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 61, 130, 0.3);
        }
        
        /* Loading Animation */
        .loading {
            display: none;
            text-align: center;
            padding: 40px;
        }
        
        .loading-spinner {
            width: 50px;
            height: 50px;
            border: 4px solid #f3f3f3;
            border-top: 4px solid var(--primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* Properties Grid */
        .properties-section {
            padding: 40px 20px;
        }
        
        .properties-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 30px;
            margin-top: 30px;
        }
        
        .property-card {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: all 0.3s;
            position: relative;
        }
        
        .property-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 30px rgba(0, 61, 130, 0.15);
        }
        
        .property-image {
            position: relative;
            height: 220px;
            overflow: hidden;
        }
        
        .property-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s;
        }
        
        .property-card:hover .property-image img {
            transform: scale(1.05);
        }
        
        .price-tag {
            position: absolute;
            top: 15px;
            left: 15px;
            background: var(--primary);
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 1.1rem;
        }
        
        .property-info {
            padding: 25px;
        }
        
        .property-title {
            font-size: 1.3rem;
            font-weight: bold;
            color: var(--primary);
            margin-bottom: 10px;
            line-height: 1.3;
        }
        
        .property-location {
            color: #666;
            margin-bottom: 15px;
            font-size: 0.95rem;
        }
        
        .property-features {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
        }
        
        .feature {
            text-align: center;
        }
        
        .feature-value {
            display: block;
            font-weight: bold;
            color: var(--primary);
            font-size: 1.1rem;
        }
        
        .feature-label {
            font-size: 0.85rem;
            color: #666;
            margin-top: 2px;
        }
        
        .contact-property-btn {
            width: 100%;
            background: var(--accent);
            color: white;
            padding: 12px;
            border: none;
            border-radius: 8px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .contact-property-btn:hover {
            background: #0e3c1a;
            transform: translateY(-1px);
        }
        
        /* Empty State */
        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: #666;
        }
        
        .empty-state img {
            width: 120px;
            height: 120px;
            opacity: 0.5;
            margin-bottom: 20px;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .header h1 { font-size: 2rem; }
            .header p { font-size: 1rem; }
            .filter-grid { grid-template-columns: 1fr; }
            .properties-grid { grid-template-columns: 1fr; }
            .property-features { flex-direction: column; gap: 10px; }
        }
    </style>
</head>
<body>
    <div class="lang-switcher">
        <a href="/">EN</a> / <a href="/es/">ES</a> / <a href="/nl/">NL</a>
    </div>

    <a href="/es/" class="back-btn">← Volver al Inicio</a>

    <header class="header">
        <div class="header-content">
            <h1>🏠 Emparejamiento Personalizado de Propiedades</h1>
            <p>Nuestro sistema con IA analiza tus requisitos específicos y presupuesto para encontrar propiedades que coincidan perfectamente con tus objetivos de inversión desde las mejores plataformas inmobiliarias españolas.</p>
        </div>
    </header>

    <main>
        <section class="filter-section">
            <div class="container">
                <h2 class="property-matching-title">Encuentra Tu Propiedad Perfecta</h2>
                <p class="property-matching-subtitle">Establece tus preferencias y deja que nuestro sistema encuentre las mejores opciones para ti</p>

                <form id="property-search-form">
                    <div class="filter-grid">
                        <div class="filter-group">
                            <label for="location">🌍 Ubicación Preferida</label>
                            <select id="location" name="location" required>
                                <option value="">Selecciona una ubicación</option>
                                <option value="costa-del-sol">Costa del Sol</option>
                                <option value="marbella">Marbella</option>
                                <option value="nueva-andalucia">Nueva Andalucía</option>
                                <option value="puerto-banus">Puerto Banús</option>
                                <option value="estepona">Estepona</option>
                                <option value="fuengirola">Fuengirola</option>
                                <option value="malaga">Málaga</option>
                                <option value="madrid">Madrid</option>
                                <option value="barcelona">Barcelona</option>
                                <option value="valencia">Valencia</option>
                                <option value="sevilla">Sevilla</option>
                            </select>
                        </div>

                        <div class="filter-group">
                            <label for="property-type">🏡 Tipo de Propiedad</label>
                            <select id="property-type" name="property-type" required>
                                <option value="">Selecciona tipo de propiedad</option>
                                <option value="villa">Villa de Lujo</option>
                                <option value="apartment">Apartamento</option>
                                <option value="penthouse">Ático</option>
                                <option value="townhouse">Casa Adosada</option>
                                <option value="duplex">Dúplex</option>
                                <option value="studio">Estudio</option>
                                <option value="plot">Parcela</option>
                                <option value="commercial">Comercial</option>
                            </select>
                        </div>

                        <div class="filter-group">
                            <label for="min-price">💰 Precio Mínimo (€)</label>
                            <select id="min-price" name="min-price" required>
                                <option value="">Selecciona mínimo</option>
                                <option value="0">Sin mínimo</option>
                                <option value="100000">€100,000</option>
                                <option value="200000">€200,000</option>
                                <option value="300000">€300,000</option>
                                <option value="500000">€500,000</option>
                                <option value="750000">€750,000</option>
                                <option value="1000000">€1,000,000</option>
                                <option value="1500000">€1,500,000</option>
                                <option value="2000000">€2,000,000</option>
                            </select>
                        </div>

                        <div class="filter-group">
                            <label for="max-price">💸 Precio Máximo (€)</label>
                            <select id="max-price" name="max-price" required>
                                <option value="">Selecciona máximo</option>
                                <option value="300000">€300,000</option>
                                <option value="500000">€500,000</option>
                                <option value="750000">€750,000</option>
                                <option value="1000000">€1,000,000</option>
                                <option value="1500000">€1,500,000</option>
                                <option value="2000000">€2,000,000</option>
                                <option value="3000000">€3,000,000</option>
                                <option value="5000000">€5,000,000</option>
                                <option value="10000000">€10,000,000+</option>
                            </select>
                        </div>

                        <div class="filter-group">
                            <label for="bedrooms">🛏️ Dormitorios</label>
                            <select id="bedrooms" name="bedrooms">
                                <option value="">Cualquiera</option>
                                <option value="1">1 Dormitorio</option>
                                <option value="2">2 Dormitorios</option>
                                <option value="3">3 Dormitorios</option>
                                <option value="4">4 Dormitorios</option>
                                <option value="5">5+ Dormitorios</option>
                            </select>
                        </div>

                        <div class="filter-group">
                            <label for="bathrooms">🚿 Baños</label>
                            <select id="bathrooms" name="bathrooms">
                                <option value="">Cualquiera</option>
                                <option value="1">1 Baño</option>
                                <option value="2">2 Baños</option>
                                <option value="3">3 Baños</option>
                                <option value="4">4+ Baños</option>
                            </select>
                        </div>
                    </div>

                    <button type="submit" class="search-btn">🔍 Encuentra Mis Propiedades Perfectas</button>
                </form>
            </div>
        </section>

        <div class="loading" id="loading-section">
            <div class="loading-spinner"></div>
            <p>Buscando tus propiedades perfectas...</p>
            <p class="loading-subtitle">Escaneando bases de datos de Idealista y Fotocasa</p>
        </div>

        <section class="properties-section hidden" id="properties-section">
            <div class="container">
                <h2 class="properties-title">🎯 Propiedades que Coinciden con tus Criterios</h2>
                <div class="properties-grid" id="properties-grid">
                    <!-- Properties will be populated here -->
                </div>
            </div>
        </section>

        <div class="empty-state hidden" id="empty-state">
            <div class="empty-icon">🏠</div>
            <h3>No se encontraron propiedades</h3>
            <p>Intenta ajustar tus criterios de búsqueda para encontrar más opciones</p>
        </div>
    </main>

    <!-- Property Matching JavaScript -->
    <script src="/js/property-matching.js"></script>
    
    <!-- Chat System Integration -->
    <link rel="stylesheet" href="/css/chat-system.css">
    <script src="/js/chat-system.js"></script>
</body>
</html>